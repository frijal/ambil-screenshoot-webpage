<!doctype html>
<html lang="id">
<head>
<!-- ===== Basic Meta ===== -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

<title>Pembersihan Otomatis Dependencies (Non-Interaktif)</title>

<meta name="description" content="Panduan lengkap menjalankan pembersihan otomatis dependencies dan reinstall Node.js package secara non-interaktif, cocok untuk GitHub Pages dan GitHub Actions.">
<meta name="news_keywords" content="cleanup dependencies, npm ci, node_modules, GitHub Actions, non-interaktif, CI/CD, GitHub Pages, Node.js">
<meta name="robots" content="index, follow, max-image-preview:large">

<link rel="canonical" href="https://dalam.web.id/artikel/cleanup-auto.html">

<!-- ===== Favicon ===== -->
<link rel="icon" href="/favicon.ico" sizes="any">
<link rel="icon" type="image/svg+xml" href="https://dalam.web.id/favicon.svg">
<link rel="apple-touch-icon" href="https://dalam.web.id/ext/icons/apple-touch-icon.png">

<meta name="theme-color" content="#24292f">

<!-- ===== Open Graph ===== -->
<meta property="og:type" content="article">
<meta property="og:title" content="Pembersihan Otomatis Dependencies (Non-Interaktif)">
<meta property="og:description" content="Cara otomatis membersihkan dependencies dan reinstall package Node.js tanpa prompt, ideal untuk workflow CI/CD.">
<meta property="og:url" content="https://dalam.web.id/artikel/cleanup-auto.html">
<meta property="og:site_name" content="Layar Kosong">
<meta property="og:image" content="https://dalam.web.id/img/cleanup-auto.webp">
<meta property="og:image:alt" content="Pembersihan otomatis dependencies Node.js secara non-interaktif">

<!-- ===== Article Meta ===== -->
<meta name="date" content="2025-09-28">
<meta property="article:published_time" content="2025-09-28T09:00:00+08:00">
<meta property="article:modified_time" content="2025-09-28T09:00:00+08:00">
<meta property="article:author" content="Fakhrul Rijal">
<meta property="article:section" content="DevOps & Automation">
<meta property="article:tag" content="Node.js">
<meta property="article:tag" content="GitHub Actions">
<meta property="article:tag" content="CI/CD">
<meta property="article:tag" content="Automation">

<!-- ===== Twitter Card ===== -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="@frijal">
<meta name="twitter:title" content="Pembersihan Otomatis Dependencies (Non-Interaktif)">
<meta name="twitter:description" content="Pembersihan dependencies Node.js tanpa prompt, aman untuk GitHub Actions dan CI/CD.">
<meta name="twitter:image" content="https://dalam.web.id/img/cleanup-auto.webp">

<!-- ===== Structured Image Hint ===== -->
<meta itemprop="image" content="https://dalam.web.id/img/cleanup-auto.webp">

<!-- ===== Schema.org JSON-LD ===== -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "TechArticle",
  "headline": "Pembersihan Otomatis Dependencies (Non-Interaktif)",
  "description": "Panduan pembersihan otomatis dependencies dan reinstall Node.js package secara non-interaktif untuk workflow CI/CD.",
  "inLanguage": "id-ID",
  "author": {
    "@type": "Person",
    "name": "Fakhrul Rijal"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Layar Kosong",
    "logo": {
      "@type": "ImageObject",
      "url": "https://dalam.web.id/favicon.svg"
    }
  },
  "image": [
    "https://dalam.web.id/img/cleanup-auto.webp"
  ],
  "datePublished": "2025-09-28",
  "dateModified": "2025-09-28",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://dalam.web.id/artikel/cleanup-auto.html"
  }
}
</script>

<!-- Prism.js CDN -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@latest/themes/prism.min.css">
<script src="https://cdn.jsdelivr.net/npm/prismjs@latest/prism.min.js" defer></script>
<script src="https://cdn.jsdelivr.net/npm/prismjs@latest/plugins/autoloader/prism-autoloader.min.js" defer></script>
<style>
/* ===== Layout dasar responsif ===== */
body {
  margin: 0;
  font-family: system-ui, "Segoe UI", Roboto, sans-serif;
  background: var(--bg);
  color: var(--fg);
  line-height: 1.7;
  padding: 2rem;
  max-width: 900px;
  margin-inline: auto;
}
img {
  max-width: 100%;
  height: auto;
  border-radius: 10px;
}
a { color: var(--link); text-decoration: none; }
a:hover { text-decoration: underline; }
pre {
  border-radius: 10px;
  overflow-x: auto;
  padding: 1rem;
}
/* ===== Mode terang dan gelap otomatis ===== */
@media (prefers-color-scheme: dark) {
  :root {
    --bg: #0b0e14;
    --fg: #d6deeb;
    --link: #82aaff;
  }
}
@media (prefers-color-scheme: light) {
  :root {
    --bg: #ffffff;
    --fg: #1e1e1e;
    --link: #007acc;
  }
}
/* ===== Tema Night Owl untuk Prism (gelap) ===== */
@media (prefers-color-scheme: dark) {
code[class*="language-"], pre[class*="language-"] {
  color: #d6deeb;
  background: #011627;
}
.token.comment, .token.prolog, .token.doctype, .token.cdata {
  color: #637777;
}
.token.punctuation { color: #c792ea; }
.token.property, .token.tag, .token.constant, .token.symbol, .token.deleted {
  color: #ff5370;
}
.token.boolean, .token.number { color: #f78c6c; }
.token.selector, .token.attr-name, .token.string, .token.char, .token.builtin, .token.inserted {
  color: #addb67;
}
.token.operator, .token.entity, .token.url, .token.variable {
  color: #c792ea;
}
.token.atrule, .token.attr-value, .token.function, .token.class-name {
  color: #82aaff;
}
.token.keyword { color: #c792ea; }
}
/* ===== Share icons ===== */
.share {
  display: flex;
  gap: 10px;
  margin-top: 2rem;
}
.share a img {
  width: 32px;
  height: 32px;
  filter: brightness(0.9);
  transition: 0.2s;
}
.share a img:hover {
  transform: scale(1.1);
  filter: brightness(1.2);
}
/* ===== Facebook comments ===== */
.fb-comments {
  margin-top: 2rem;
}
</style>
<link rel="stylesheet" href="/ext/marquee-url.css"><link rel="alternate" type="application/rss+xml" title="30 artikel baru bikin." href="https://dalam.web.id/rss.xml" />
    <meta property="article:published_time" content="2025-05-01T23:20:38.178+00:00">
<meta name="google-adsense-account" content="ca-pub-8157928740123992"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8157928740123992" crossorigin="anonymous"></script></head>
<body>
<main>
  <h1>üßπ Pembersihan Otomatis Dependencies (Non-Interaktif)</h1>
<div id="iposbrowser"></div>
  <p>
    Kadang kita ingin proyek Node.js di GitHub Pages tetap bersih tanpa perlu konfirmasi manual saat melakukan pembersihan <em>dependencies</em> yang tidak terpakai.
    Di sinilah mode otomatis berguna: skrip berjalan sepenuhnya tanpa prompt dan cocok diintegrasikan ke workflow GitHub Actions.
  </p>
  <h2>üéØ Tujuan</h2>
  <p>
    Dengan skrip <strong>cleanup-auto.js</strong>, kita bisa:
  </p>
  <ul>
    <li>Memeriksa dependencies yang tidak digunakan.</li>
    <li>Menghapusnya secara otomatis tanpa input pengguna.</li>
    <li>Menghapus folder <code>node_modules</code> dan <code>package-lock.json</code> bila perlu.</li>
    <li>Menjalankan instalasi ulang bersih (<code>npm install</code>).</li>
  </ul>
  <h2>ü™Ñ Petunjuk Penggunaan</h2>
  <p>Simpan skrip berikut di <code>ext/cleanup-auto.js</code>:</p>
  <pre><code class="language-js">#!/usr/bin/env node
/**
 * ===================================================================
 * CLEANUP AUTO v1.1
 * Hapus paket tidak terpakai dan reinstall otomatis (non-interaktif)
 * Cocok untuk workflow GitHub Actions
 * ===================================================================
 */
import { execSync } from 'node:child_process';
import depcheck from 'depcheck';
import fs from 'node:fs';
(async () => {
  console.log('üöÄ Memeriksa paket tidak terpakai...');
  // FIX: Tambahkan objek kosong {} sebagai argumen kedua untuk 'options'
  const result = await depcheck(process.cwd(), {});
  const unused = [...result.dependencies, ...result.devDependencies];
  if (unused.length === 0) {
    console.log('‚úÖ Tidak ada paket yang perlu dihapus.');
  } else {
    console.log('üßπ Menghapus paket:', unused.join(', '));
    execSync(`npm uninstall ${unused.join(' ')}`, { stdio: 'inherit' });
  }
  console.log('üóëÔ∏è Menghapus node_modules dan package-lock.json...');
  fs.rmSync('node_modules', { recursive: true, force: true });
  fs.rmSync('package-lock.json', { force: true });
  console.log('üì¶ Instal ulang paket...');
  execSync('npm install', { stdio: 'inherit' });
  console.log('‚ú® Cleanup selesai tanpa prompt!');
})();
</code></pre>
  <h2>‚öôÔ∏è Integrasi ke Workflow GitHub Actions</h2>
  <p>
    Kita bisa menjadwalkan proses pembersihan otomatis ini langsung dari workflow YAML agar dijalankan misalnya setiap minggu.
  </p>
  <pre><code class="language-yaml">name: Auto Cleanup Dependencies
on:
  schedule:
    - cron: '0 21 * * 0'  # Setiap Minggu jam 21:00 UTC
  workflow_dispatch:
jobs:
  cleanup:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout Repository
        uses: actions/checkout@v4
      - name: Setup Node.js
        uses: actions/setup-node@v4
        with:
          node-version: '20'
      - name: Install Dependencies
        run: npm ci
      - name: Jalankan Cleanup Otomatis
        run: node ext/cleanup-auto.js
</code></pre>
  <h2>üí° Tips Tambahan</h2>
  <ul>
    <li>Gunakan mode ini hanya di branch utama atau staging, agar tidak menghapus paket penting di branch pengembangan.</li>
    <li>Bisa dikombinasikan dengan workflow build agar repo tetap ramping.</li>
    <li>Tambahkan log hasil cleanup ke artifact untuk audit.</li>
  </ul>
  <h2>‚úÖ Kesimpulan</h2>
  <p>
    Skrip <code>cleanup-auto.js</code> membantu menjaga proyek tetap ringan, bebas sisa dependensi, dan sepenuhnya otomatis tanpa konfirmasi manual.
    Cocok dijalankan pada server CI/CD seperti GitHub Actions, terutama untuk proyek statis seperti GitHub Pages.
  </p>
 <div id="pesbukdiskus"></div>
<div class="search-floating-container"><input type="text" id="floatingSearchInput" placeholder="cari artikel..." autocomplete="off"><span id="floatingSearchClear" class="clear-button"></span><div id="floatingSearchResults" class="floating-results-container"></div></div>
<section id="related-marquee-section"><div id="related-marquee-container"></div></section><script defer src="/ext/marquee-url.js"></script>
<script defer src="/ext/iposbrowser.js"></script><script defer src="/ext/markdown.js"></script><script defer src="/ext/pesbukdiskus.js"></script>
</body>
</html>
