<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Formulir Penghapusan Data / Data Deletion Form — dalam.web.id</title>
  <meta name="description" content="Request deletion of your data on dalam.web.id (ID/EN)">
  <style>
    :root { --bg: #ffffff; --text: #1f2937; --border: #e5e7eb; --muted: #64748b; --accent: #2563eb; }
    @media (prefers-color-scheme: dark) {
      :root { --bg: #0f172a; --text: #e2e8f0; --border: #374151; --muted: #94a3b8; --accent: #60a5fa; }
    }
    body {
      font-family: system-ui,-apple-system,sans-serif;
      background:var(--bg); color:var(--text);
      margin:0; padding:0; line-height:1.6; min-height:100vh;
    }

    /* === STICKY LOGO & NAMA DI KIRI ATAS === */
    .sticky-header {
      position: fixed;
      top: 1rem;
      left: 1rem;
      z-index: 1000;
      display: flex;
      align-items: center;
      gap: 0.75rem;
      background: var(--bg);
      padding: 0.5rem 0.75rem;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
      backdrop-filter: blur(8px);
      border: 1px solid var(--border);
      text-decoration: none;
      transition: all 0.2s;
    }
    .sticky-header:hover { transform: translateY(-2px); box-shadow: 0 8px 20px rgba(0,0,0,0.15); }
    .sticky-header img { width: 40px; height: 40px; }
    .site-name { font-weight: 700; font-size: 1.35rem; color: var(--text); }

    /* Konten utama agar tidak tertutup sticky header */
    .main-content {
      max-width: 680px;
      margin: 0 auto;
      padding: 7rem 1.5rem 3rem; /* atas lebih besar karena sticky header */
    }

    h1 { font-size: 1.8rem; margin-top: 0; }
    .lang-select {
      position: fixed;
      top: 1rem;
      right: 1rem;
      z-index: 1000;
      background: var(--bg);
      padding: 0.4rem 0.7rem;
      border: 1px solid var(--border);
      border-radius: 8px;
      backdrop-filter: blur(8px);
    }
    select { background: var(--bg); color: var(--text); border: none; font-size: 1rem; }

    .lead { color: var(--muted); margin: 1rem 0 2rem; }
    form {
      background: rgba(255,255,255,0.04);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 2rem;
    }
    label { display:block; margin:1.4rem 0 0.5rem; font-weight:600; }
    input, select, textarea {
      width:100%; padding:0.75rem; border:1px solid var(--border); border-radius:8px;
      background:var(--bg); color:var(--text); font-size:1rem;
    }
    textarea { min-height:120px; resize:vertical; }
    button {
      margin-top:2rem; background:var(--accent); color:white; border:none;
      padding:0.9rem 1.8rem; border-radius:8px; font-size:1rem; font-weight:600; cursor:pointer;
    }
    button:hover { opacity:0.9; }
    .msg { margin-top:1.5rem; padding:1rem; border-radius:8px; display:none; }
    .success { background:#dcfce7; color:#166534; border:1px solid #86efac; }
    .error   { background:#fee2e2; color:#991b1b; border:1px solid #fca5a5; }
    footer { margin-top:4rem; text-align:center; color:var(--muted); font-size:0.9rem; }
    a { color:var(--accent); text-decoration:underline; }
  </style>
</head>
<body>

  <!-- STICKY LOGO & NAMA (selalu terlihat) -->
  <a href="https://dalam.web.id" class="sticky-header" aria-label="Kembali ke dalam.web.id">
    <img src="https://dalam.web.id/favicon.svg" alt="dalam.web.id">
    <span class="site-name">dalam.web.id</span>
  </a>

  <!-- SELECT BAHASA (juga sticky di kanan atas) -->
  <div class="lang-select">
    <select id="lang" onchange="switchLang(this.value)" aria-label="Pilih bahasa">
      <option value="id">Bahasa Indonesia</option>
      <option value="en">English</option>
    </select>
  </div>

  <!-- KONTEN UTAMA -->
  <div class="main-content">
    <h1>Formulir Penghapusan Data / Data Deletion Form</h1>

    <p class="lead" id="lead-id">
      Gunakan formulir ini untuk mengajukan penghapusan komentar, profil, atau data lain di <strong>dalam.web.id</strong>.
    </p>
    <p class="lead" id="lead-en" style="display:none">
      Use this form to request deletion of comments, profile, or any other data on <strong>dalam.web.id</strong>.
    </p>

    <form id="deletion-form" action="https://formspree.io/f/mwpwzylb" method="POST">
      <label data-id="Nama tampilan (jika ada)" data-en="Display name (if any)">Nama tampilan (jika ada)</label>
      <input type="text" name="nama_tampilan" placeholder="Contoh: Paijo Suparjio">

      <label data-id="Email yang pernah digunakan *" data-en="Email address used *">
        Email yang pernah digunakan *
      </label>
      <input type="email" name="_replyto" required placeholder="emailanda@contoh.com">

      <label data-id="URL halaman atau ID komentar (opsional)" data-en="Page URL or comment ID (optional)">
        URL halaman atau ID komentar (opsional)
      </label>
      <input type="text" name="url_atau_id" placeholder="https://dalam.web.id/artikel/...">

      <label data-id="Jenis data yang ingin dihapus *" data-en="Type of data to delete *">
        Jenis data yang ingin dihapus *
      </label>
      <select name="jenis_data" required>
        <option value="" disabled selected data-id="Pilih salah satu" data-en="Choose one">Pilih salah satu</option>
        <option value="komentar" data-id="Komentar yang saya buat" data-en="Comments I made">Komentar yang saya buat</option>
        <option value="profil" data-id="Profil / data pribadi saya" data-en="Profile / personal data">Profil / data pribadi saya</option>
        <option value="semua" data-id="Semua data terkait email ini" data-en="All data linked to this email">Semua data terkait email ini</option>
        <option value="lainnya" data-id="Lainnya (jelaskan di bawah)" data-en="Other (explain below)">Lainnya (jelaskan di bawah)</option>
      </select>

      <label data-id="Keterangan tambahan (opsional)" data-en="Additional notes (optional)">
        Keterangan tambahan (opsional)
      </label>
      <textarea name="keterangan" placeholder="Ceritakan lebih detail... / Provide more details..."></textarea>

      <input type="text" name="_gotcha" style="display:none">

      <button type="submit" data-id="Kirim Permintaan" data-en="Submit Request">Kirim Permintaan</button>
    </form>

    <div class="msg success" id="success">
      <span id="succ-id">Terima kasih! Permintaan Anda sudah kami terima.<br>
      Kami akan memproses dalam 24–72 jam kerja dan mengirimkan konfirmasi ke email Anda.</span>
      <span id="succ-en" style="display:none">Thank you! Your request has been received.<br>
      We will process it within 24–72 business hours and send confirmation to your email.</span>
    </div>

    <div class="msg error" id="error">
      Maaf, terjadi kesalahan. Coba lagi atau kirim email langsung ke <a href="mailto:sini@dalam.web.id">sini@dalam.web.id</a><br>
      Sorry, something went wrong. Please try again or email us directly at <a href="mailto:sini@dalam.web.id">sini@dalam.web.id</a>.
    </div>

    <footer>
      <a href="https://dalam.web.id/data-deletion">← Kembali ke Instruksi Penghapusan Data</a>
    </footer>
  </div>

<script>
  function switchLang(lang) {
    document.querySelectorAll('[data-id],[data-en]').forEach(el => {
      el.textContent = (lang === 'en') ? el.dataset.en : el.dataset.id;
    });
    document.querySelectorAll('#lead-id, #lead-en, #succ-id, #succ-en').forEach(el => {
      el.style.display = el.id.includes(lang) ? 'block' : 'none';
    });
    localStorage.setItem('lang', lang);
  }

  const saved = localStorage.getItem('lang') || (navigator.language.startsWith('en') ? 'en' : 'id');
  document.getElementById('lang').value = saved;
  switchLang(saved);

  const form = document.getElementById('deletion-form');
  form.addEventListener('submit', () => {
    setTimeout(() => {
      form.style.display = 'none';
      document.getElementById('success').style.display = 'block';
    }, 800);
  });

  if (location.search.includes('formspree-error')) {
    form.style.display = 'none';
    document.getElementById('error').style.display = 'block';
  }
</script>
</body>
</html>
